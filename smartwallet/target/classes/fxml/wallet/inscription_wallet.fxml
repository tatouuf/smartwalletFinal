<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="esprit.tn.souha_pi.controllers.wallet.InscriptionWalletController">

    <fx:define>
        <ToggleGroup fx:id="typeCompteGroup"/>
    </fx:define>

    <VBox alignment="CENTER" spacing="20" maxWidth="650">
        <padding>
            <Insets top="30" bottom="30" left="30" right="30"/>
        </padding>

        <VBox spacing="25" maxWidth="600"
              style="-fx-background-color:white;
                     -fx-padding:35;
                     -fx-background-radius:25;
                     -fx-border-radius:25;
                     -fx-border-color:#e9ecef;
                     -fx-border-width:1;">

            <HBox alignment="CENTER" spacing="15">
                <Label text="ðŸ’°" style="-fx-font-size:40px;"/>
                <Label text="ACTIVER MON WALLET"
                       style="-fx-font-size:24px; -fx-font-weight:bold; -fx-text-fill:#1e293b;"/>
            </HBox>

            <Separator/>

            <HBox alignment="CENTER" spacing="15">
                <Label text="Ã‰tape"/>
                <Label fx:id="etapeLabel" text="1/4"
                       style="-fx-font-size:16px; -fx-font-weight:bold; -fx-text-fill:#3b82f6;"/>
                <ProgressBar fx:id="progressBar" prefWidth="350"/>
            </HBox>

            <!-- STEP 1 : PIN -->
            <VBox fx:id="etape3" spacing="15">
                <Label text="ðŸ” SÃ©curitÃ© du wallet"
                       style="-fx-font-size:16px; -fx-font-weight:bold;"/>

                <PasswordField fx:id="pinField" promptText="Choisissez un code PIN (4 chiffres)"/>

                <HBox alignment="CENTER_RIGHT">
                    <Button text="Suivant â†’" onAction="#allerEtape4"/>
                </HBox>
            </VBox>

            <!-- STEP 2 : PLAN -->
            <VBox fx:id="etape4" spacing="15" visible="false" managed="false">
                <Label text="ðŸ’³ Choisissez votre formule"
                       style="-fx-font-size:16px; -fx-font-weight:bold;"/>

                <RadioButton text="Wallet Standard" toggleGroup="$typeCompteGroup" selected="true"/>
                <RadioButton text="Carte Virtuelle" toggleGroup="$typeCompteGroup"/>
                <RadioButton text="Carte Physique" toggleGroup="$typeCompteGroup"/>

                <HBox alignment="CENTER_RIGHT">
                    <Button text="â† Retour" onAction="#allerEtape3"/>
                    <Button text="Suivant â†’" onAction="#allerEtape6"/>
                </HBox>
            </VBox>

            <!-- STEP 3 : DEPOSIT -->
            <VBox fx:id="etape6" spacing="15" visible="false" managed="false">
                <Label text="ðŸ’° Premier dÃ©pÃ´t"
                       style="-fx-font-size:16px; -fx-font-weight:bold;"/>

                <TextField fx:id="montantField" promptText="Montant (min 10 TND)"/>

                <HBox alignment="CENTER_RIGHT">
                    <Button text="â† Retour" onAction="#allerEtape4"/>
                    <Button text="Suivant â†’" onAction="#allerEtape7"/>
                </HBox>
            </VBox>

            <!-- STEP 4 : CONFIRM -->
            <VBox fx:id="etape7" spacing="15" visible="false" managed="false">
                <Label text="âœ… Confirmation"
                       style="-fx-font-size:16px; -fx-font-weight:bold;"/>

                <Label fx:id="recapMontant" text="Montant : -"/>

                <Button text="ACTIVER LE WALLET"
                        onAction="#validerInscription"
                        style="-fx-background-color:#10b981; -fx-text-fill:white; -fx-font-weight:bold;"/>

                <HBox alignment="CENTER_RIGHT">
                    <Button text="â† Retour" onAction="#allerEtape6"/>
                </HBox>
            </VBox>

        </VBox>
    </VBox>
</StackPane>